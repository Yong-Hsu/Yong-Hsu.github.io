<html lang="en">
<title>Worksheet 1 - Part 1</title>
<script src="../angel_common/initShaders.js"></script>
<script src="../angel_common/webgl-utils.js"></script>
<script src="../angel_common/MV.js"></script>
<script src="work8/t82.js"></script>

<script id="vertex-shader" type="x-shader/x-vertex">
	precision mediump float;
	attribute vec4 vPosition;

	uniform mat4 modelViewMatrix;
	uniform mat4 projectionMatrix;
	uniform mat4 shadowModelMatrix;

	attribute vec2 vTexCoord;
	varying vec2 fTexCoord;
	uniform float type;
	
	void main()
	{
		if (type == 2.0)
			gl_Position = projectionMatrix * shadowModelMatrix * vPosition;
		else 
			gl_Position = projectionMatrix * modelViewMatrix * vPosition;

		fTexCoord = vTexCoord;
	}
</script>

<script id="fragment-shader" type="x-shader/x-fragment">
	precision mediump float;

	uniform sampler2D texMap;
	uniform sampler2D texMap1;
	varying vec2 fTexCoord;
	uniform float type;
	
	void main() {
		if (type == 0.0) 
			gl_FragColor = texture2D(texMap, fTexCoord);
		else if (type == 1.0)
			gl_FragColor = texture2D(texMap1, fTexCoord);
		else 
			gl_FragColor = vec4(0.1, 0.1, 0.1, 1.0);
	}
</script>

<body>
	<canvas id='gl-canvas' height="512" width="512">
		webgl is not available
	</canvas>
	<br>
	<button type="button" id="toggle" style="width: 25%;"> Toggle light circulation</button>
</body>

</html>